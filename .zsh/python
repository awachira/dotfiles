#
# Virtualenvwrapper
#

# Shell hooks; look in all possible locations and for both old and new versions
# of the script, just in case I find myself on an older system.
ROOTS=(/usr/bin /usr/local/bin)
SUFFIXES=(_bashrc .sh)
for root in $ROOTS; do
    for suffix in $SUFFIXES; do
        p=$root/virtualenvwrapper$suffix
        if [[ -f $p ]]; then
            virtualenvwrapper=$p
        fi
    done
done

# Don't blow up when PYTHONDONTWRITEBYTECODE is set
export VIRTUALENV_USE_DISTRIBUTE=1

# Always prefer no-site-packages
export VIRTUALENVWRAPPER_VIRTUALENV_ARGS='--no-site-packages'

export WORKON_HOME=~/.virtualenvs
test -d $WORKON_HOME || mkdir $WORKON_HOME
[[ -n "$virtualenvwrapper" && -f $virtualenvwrapper ]] && source $virtualenvwrapper

# mkvirtualenv_help is irritating re: tab completion, and unnecessary, as
# mkvirtualenv --help still works fine.
which mkvirtualenv_help 2>&1 >/dev/null && unfunction mkvirtualenv_help


#
# Pip env vars
#

# Respect my virtualenvs, please
export PIP_RESPECT_VIRTUALENV=true
export PIP_VIRTUALENV_BASE=$WORKON_HOME
# Don't litter pip_log.txt files in cwd!
export PIP_LOG_FILE='/tmp/pip-log.txt'
# Use a cache
export PIP_DOWNLOAD_CACHE='/tmp/pip_cache'


#
# Python env vars
#

# Only affects 2.6 but should be harmless in 2.5
export PYTHONDONTWRITEBYTECODE=1
